<?xml version="1.0" encoding="utf-8"?>
<templates xml:space="preserve">
    <t t-name="alert_agent.AlertAgent">
        <head>
            <meta charset="UTF-8"/>
            <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
            <title>Alertes Maintenance - Agent</title>
            <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
        </head>
  <div class="filter-container">
      <div class="filter-row">
        <!-- Mod√®les -->
          <div class="filtRow">
    <!-- Mod√®le -->
    <div class="filItem">
        <label for="modeles">Mod√®les</label>
        <select id="modeles" t-on-change="updateSelectedModel">
            <option value="">Tous</option>
            <t t-foreach="state.models" t-as="model" t-key="model.id">
                <option t-att-value="model.id"><t t-esc="model.name"/></option>
            </t>
        </select>
    </div>

    <!-- V√©hicule -->
    <div class="filItem">
        <label for="vehicules">V√©hicules</label>
        <select id="vehicules" t-on-change="updateSelectedVehicule">
            <option value="">Tous</option>
            <t t-foreach="state.vehicules" t-as="vehicule" t-key="vehicule.id">
                <option t-att-value="vehicule.id"><t t-esc="vehicule.name"/></option>
            </t>
        </select>
    </div>

    <!-- Type de maintenance -->
<div class="filItem">
    <label for="types">Type de maintenance</label>
    <select id="types" t-on-change="updateSelectedType">
        <option value="">Tous</option>
        <t t-foreach="state.maintenanceTypes" t-as="type" t-key="type.id">
            <option t-att-value="type.id">
                <t t-esc="type.name"/>
                <!-- Optionnel : Affichez le type si n√©cessaire -->
                <t t-if="type.type"> (<t t-esc="type.type"/>)</t>
            </option>
        </t>
    </select>
</div></div>


          <!-- Boutons -->
          <div class="filtRow" style="margin: 0">
            <div class="resulspan">
                <span style="margin: 14px"><t t-esc="state.maintenanceCount.toLocaleString('fr-FR')"/>
                    r√©sultats trouv√©s</span>
                <ion-icon name="stats-chart-outline"></ion-icon>
            </div>
              <button class="butn123" t-on-click="searchAlerts">Rechercher</button>
              <button class="butn123" t-on-click="resetFilters">R√©tablir üóëÔ∏è</button>
        </div>
      </div>

      <!-- Tableau -->
      <table class="ta-BLE">
          <thead>
              <tr style="letter-spacing: 1px; background-color: #666671; color: white">
                  <th>Reference ID</th>
                  <th>Maintenance</th>
                  <th>Num√©ro</th>
                  <th>√âch√©ance</th>
                  <th>Dernier KM</th>
                  <th>G√©rer</th>
              </tr>
          </thead>
          <tbody></tbody>
      </table>
  </div>
    </t>
</templates>
