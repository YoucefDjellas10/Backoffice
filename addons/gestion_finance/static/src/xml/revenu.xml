<?xml version="1.0" encoding="utf-8"?>
<templates xml:space="preserve">
  <t t-name="Revenu" owl="1">
    <div class="filcont" style="max-height: 90vh; overflow-y: auto;"> <!-- ‚úÖ scroll activ√© -->
        <div>
          <div class="filtRow">
            <div class="filItem">
              <label for="reference">R√©f√©rence</label>
              <input type="text" id="reference" placeholder="Entrer la r√©f√©rence" />
            </div>

            <div class="filItem">
              <label for="modeles">Mod√®les</label>
              <select id="modeles" t-on-change="updateSelectedModel">
                <option value="">Tous</option>
                <t t-foreach="state.models" t-as="model" t-key="model.id">
                  <option t-att-value="model.id"><t t-esc="model.name" /></option>
                </t>
              </select>
            </div>

            <div class="filItem">
              <label for="date-du">Date du</label>
              <input type="date" id="date-du" />
            </div>

            <div class="filItem">
              <label for="date-au">Au</label>
              <input type="date" id="date-au" />
            </div>
          </div>

          <div class="filtRow">
            <div class="filItem">
              <label for="prenom">Client</label>
              <input type="text" id="prenom" placeholder="Entrer le pr√©nom" />
            </div>

            <div class="filItem">
              <label for="mode-paiement">Mode de paiement</label>
              <select id="mode-paiement" t-on-change="updateSelectedModePaiement">
                <option value="">Tous</option>
                <option value="carte">Banque</option>
                <option value="liquide">Liquide</option>
                <option value="autre">Autre</option>
              </select>
            </div>

            <div class="filItem">
              <label for="pays">Zone / R√©gion</label>
              <select id="pays" t-on-change="updateSelectedZone">
                <option value="">Tous</option>
                <t t-foreach="state.zones" t-as="zone" t-key="zone.id">
                  <option t-att-value="zone.id"><t t-esc="zone.name" /></option>
                </t>
              </select>
            </div>
          </div>
        </div>

        <div class="filtRow" style="margin: 0">
          <div class="resulspan">
            <span style="margin: 14px">
              <t t-esc="state.encaissementCount.toLocaleString('fr-FR')" /> Encaissement(s) trouv√©(s)
            </span>
            <ion-icon name="stats-chart-outline"></ion-icon>
          </div>
          <button class="butn123" t-on-click="searchEncaissements"><span style="padding-right:4px ;">Rechercher</span>  <ion-icon name="search-outline"></ion-icon></button>
          <button class="butn123" t-on-click="resetFilters">R√©tablir üóëÔ∏è</button>
        </div>

        <table class="ta-BLE">
          <thead>
            <tr style="letter-spacing: 1px; background-color: #666671; color: white">
              <th style="padding: 8px 4px">R√©f√©rence</th>
              <th style="padding: 8px 4px">Client</th>
              <th style="padding: 8px 4px">Date de cr√©ation</th>
              <th style="padding: 8px 4px">Date de prise</th>
              <th style="padding: 8px 4px">Dur√©e</th>
              <th style="padding: 8px 4px">Zone</th>
              <th style="padding: 8px 4px">Mod√®le</th>
              <th style="padding: 8px 4px">Mode de paiement</th>
              <th style="padding: 8px 4px">Caisse</th>
            </tr>
          </thead>
          <tbody>
            <!-- ‚úÖ lignes fictives pour forcer le scroll -->
            <t t-foreach="Array.from({length:50})" t-as="i" t-key="i">
              <tr>
                <td>REF-<t t-esc="i + 1" /></td>
                <td>Client <t t-esc="i + 1" /></td>
                <td>2025-10-23</td>
                <td>2025-10-24</td>
                <td>2j</td>
                <td>Zone X</td>
                <td>Mod√®le A</td>
                <td>Banque</td>
                <td>CAISSE <t t-esc="i + 1" /></td>
              </tr>
            </t>
          </tbody>
        </table>

        <div class="total-container" style="margin-top: 10px; text-align: right; font-weight: bold; background-color: rgba(250,250,250,0); padding: 8px;">
          <span>Total encaiss√© : </span>
          <span id="total-amount" style="color: #324690; margin-left: 10px;"></span>
        </div>

        <div class="total-container" style="margin-top: 2px; text-align: right; font-weight: bold; background-color: rgba(250,250,250,0); padding: 8px;">
          <span style="margin-right: 10px;">Total r√©servations confirm√©es :</span>
          <span id="total-reservations" style="color: #324690;"></span>
        </div>
    </div>
  </t>
</templates>
