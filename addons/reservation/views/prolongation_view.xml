<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_prolongation_form" model="ir.ui.view">
        <field name="name">prolongation.form</field>
        <field name="model">prolongation</field>
        <field name="arch" type="xml">
            <form string="prolongation">
                <header>
                    <button string="Confirmé" type="object" name="action_confirm" class="btn-success"/>
                    <button name="action_verifier_disponibilite" type="object" string="Vérifier Disponibilité"
                            class="btn-primary"/>
                </header>
                <sheet>
                    <group>
                        <group>
                            <field name="stage"/>
                            <field name="reservation"/>
                            <field name="date_prolonge"/>
                            <field name="nb_jour_prolonge"/>
                            <field name="nb_jour_prolonge_l"/>
                            <field name="heure_prolonge_l"/>
                            <field name="total_option_prolonge"/>
                            <field name="supplements_prolonge"/>
                            <field name="prix_prolongation"/>
                            <field name="total_prolongation"/>
                        </group>
                        <group>
                            <group>
                                <field name="options" widget="many2many_tags"/>
                                <field name="prix_jour"/>
                                <field name="prix_jour_two"/>
                                <field name="nbr_jour_two"/>
                                <field name="nbr_jour_one"/>
                                <field name="frais_de_livraison"/>
                                <field name="options_total"/>
                                <field name="total"/>
                                <field name="total_afficher"/>
                                <field name="prix_jour_afficher"/>
                                <field name="supplements"/>
                                <field name="retour_tard"/>
                            </group>
                            <group>
                                <field name="status"/>
                                <field name="etat_reservation"/>
                                <field name="date_heure_debut"/>
                                <field name="date_heure_fin"/>
                                <field name="date_fin_un" readonly="1"/>
                                <field name="duree_dereservation"/>
                                <field name="lieu_depart"/>
                                <field name="zone"/>
                                <field name="lieu_retour"/>
                                <field name="vehicule"/>
                                <field name="modele"/>
                                <field name="categorie"/>
                            </group>
                        </group>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Définition de la vue arborescente -->
    <record id="view_prolongation_tree" model="ir.ui.view">
        <field name="name">prolongation.tree</field>
        <field name="model">prolongation</field>
        <field name="arch" type="xml">
            <tree string="prolongation">
                <field name="reservation"/>
                <field name="status"/>
                <field name="etat_reservation"/>
                <field name="date_heure_debut"/>
                <field name="date_heure_fin"/>
                <field name="nbr_jour_reservation"/>
                <field name="duree_dereservation"/>
                <field name="lieu_depart"/>
                <field name="zone"/>
                <field name="lieu_retour"/>
                <field name="vehicule"/>
                <field name="modele"/>
                <field name="categorie"/>
            </tree>
        </field>
    </record>

    <!-- Définition de l'action -->
    <record id="action_prolongation" model="ir.actions.act_window">
        <field name="name">Prolongation</field>
        <field name="res_model">prolongation</field>
        <field name="view_mode">tree,form</field>
        <field name="context">{'create': False}</field>

    </record>

    <!-- Définition du menu -->
    <menuitem id="menu_prolongation_sub_menu"
              name="Prolongation"
              sequence="1"
              parent="menu_configuration_sub"
              action="action_prolongation"
              groups="access_rights_groups.group_admin,access_rights_groups.group_ceo"/>
</odoo>

